{"version":3,"file":"src_app_addresses_addresses_module_ts.js","mappings":"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","sources":["./src/app/addresses/addresses-routing.module.ts","./src/app/addresses/addresses.component.ts","./src/app/addresses/addresses.component.html","./src/app/addresses/addresses.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AddressesComponent } from './addresses.component';\r\n\r\nconst routes: Routes = [\r\n  {path:'', component:AddressesComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AddressesRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ApiMainService } from 'src/service/apiService/api-main.service';\r\nimport { LocalStorageService } from 'src/service/local-storage.service';\r\nimport { ToasterService } from '../toaster/toaster.service';\r\n\r\n@Component({\r\n  selector: 'app-addresses',\r\n  templateUrl: './addresses.component.html',\r\n  styleUrls: ['./addresses.component.scss']\r\n})\r\nexport class AddressesComponent implements OnInit {\r\n  userProfile: any;\r\n  showSkipButton: boolean = true\r\n  patchValue: any;\r\n  showMap:boolean = false;\r\n\r\n  constructor(private localStorageService: LocalStorageService, private toasterService: ToasterService, private apiMainService: ApiMainService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.userProfile = this.localStorageService.getCacheData('USER_PROFILE');\r\n  }\r\n\r\n  async deleteAddress(index: any) {\r\n    const addressToDelete = this.userProfile.addressList[index];\r\n    const currentAddress = this.localStorageService.getCacheData('CURRENT_LOCATION')\r\n    if (currentAddress._id === addressToDelete._id) {\r\n      this.toasterService.error(102);\r\n    } else if (this.userProfile.addressList.length === 1) {\r\n      this.toasterService.error(112);\r\n    } else {\r\n      this.userProfile.addressList.splice(index, 1);\r\n      const updatedUserProfile = await this.apiMainService.updateUserProfile(this.userProfile._id, { addressList: this.userProfile.addressList });\r\n      this.localStorageService.setCacheData('USER_PROFILE', updatedUserProfile);\r\n      this.toasterService.success(103)\r\n    }\r\n  }\r\n\r\n  editAddress(address: any) {\r\n    this.localStorageService.setCacheData('CURRENT_LOCATION',address);\r\n    this.showMap = true;\r\n    this.patchValue=address;\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid px-0\">\r\n    <div class=\"headerBG\">Manage Addresses</div>\r\n    <div class=\"row px-3\">\r\n        <div class=\"col-6\" *ngFor=\"let address of userProfile.addressList; let i = index\">\r\n            <div class=\"mt-4 d-flex flex-row savedAddresses\">\r\n                <span><i class=\"bi bi-house\"></i></span>\r\n                <div class=\"address-div\">\r\n                    <div><b>{{address.tagLocation}}</b></div>\r\n                    <div>{{address.location}}</div>\r\n                    <span class=\"editSpan\" (click)=\"editAddress(address)\" data-bs-toggle=\"offcanvas\"\r\n                    data-bs-target=\"#editAddress\">EDIT</span>\r\n                    <span class=\"deleteSpan\" (click)=\"deleteAddress(i)\">DELETE</span>\r\n                    <!-- <button class=\"btn btn-primary\">Edit</button> -->\r\n                    <!-- <button class=\"btn btn-danger\" (click)=\"deleteAddress(i)\">Delete</button> -->\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"delivery-location\">\r\n    <div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"editAddress\" aria-labelledby=\"offcanvasExampleLabel\">\r\n      <button type=\"button\" style=\"display:none;\" #canvasAddress class=\"btn-close text-reset mt-3\"\r\n        data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n      <div class=\"offcanvas-div\">\r\n        <div class=\"offcanvas-body\">\r\n          <!-- <div class=\"container\" *ngIf=\"!showMap\"> -->\r\n          <!-- <div class=\"select-address\" *ngIf=\"showMap\"> -->\r\n          <div class=\"select-address\">\r\n            <button type=\"button\" style=\"display:none;\" class=\"btn-close text-reset\" #mapCanvas\r\n              data-bs-dismiss=\"offcanvas\"></button>\r\n            <app-set-delivery-location *ngIf=\"showMap\"\r\n              [showSkipButton]=\"showSkipButton\" [patchValue]=\"patchValue\"></app-set-delivery-location>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AddressesRoutingModule } from './addresses-routing.module';\r\nimport { AddressesComponent } from './addresses.component';\r\nimport { SetDeliveryLocationModule } from '../set-delivery-location/set-delivery-location.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddressesComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    AddressesRoutingModule,\r\n    SetDeliveryLocationModule\r\n  ]\r\n})\r\nexport class AddressesModule { }\r\n"],"names":["RouterModule","AddressesComponent","routes","path","component","AddressesRoutingModule","forChild","imports","i1","exports","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵlistener","AddressesComponent_div_4_Template_span_click_10_listener","restoredCtx","ɵɵrestoreView","_r7","address_r4","$implicit","ctx_r6","ɵɵnextContext","ɵɵresetView","editAddress","AddressesComponent_div_4_Template_span_click_12_listener","i_r5","index","ctx_r8","deleteAddress","ɵɵadvance","ɵɵtextInterpolate","tagLocation","location","ɵɵproperty","ctx_r3","showSkipButton","patchValue","constructor","localStorageService","toasterService","apiMainService","showMap","ngOnInit","userProfile","getCacheData","_this","_asyncToGenerator","addressToDelete","addressList","currentAddress","_id","error","length","splice","updatedUserProfile","updateUserProfile","setCacheData","success","address","ɵɵdirectiveInject","LocalStorageService","i2","ToasterService","i3","ApiMainService","selectors","decls","vars","consts","template","AddressesComponent_Template","rf","ctx","ɵɵtemplate","AddressesComponent_div_4_Template","AddressesComponent_app_set_delivery_location_14_Template","CommonModule","SetDeliveryLocationModule","AddressesModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}