{"version":3,"file":"src_app_my-wallet_my-wallet_module_ts.js","mappings":"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","sources":["./src/app/my-wallet/my-wallet-routing.module.ts","./src/app/my-wallet/my-wallet.component.ts","./src/app/my-wallet/my-wallet.component.html","./src/app/my-wallet/my-wallet.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { MyWalletComponent } from './my-wallet.component';\r\n\r\nconst routes: Routes = [\r\n  {path:'', component:MyWalletComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class MyWalletRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiMainService } from 'src/service/apiService/api-main.service';\r\nimport { LocalStorageService } from 'src/service/local-storage.service';\r\n\r\n@Component({\r\n  selector: 'app-my-wallet',\r\n  templateUrl: './my-wallet.component.html',\r\n  styleUrls: ['./my-wallet.component.scss']\r\n})\r\nexport class MyWalletComponent implements OnInit {\r\n\r\n  constructor(private router:Router, private localStorageService:LocalStorageService, private apiMainService:ApiMainService){}\r\n\r\n  wallet_balance = 0;\r\n  userProfile:any = {};\r\n  transactionHistoryList:any = [];\r\n  kichen_profile:any = {};\r\n  paginationOver = false;\r\n  nPerPage = 10;\r\n  showloader = false;\r\n  pageNumber = 1;\r\n\r\n  ngOnInit(): void {\r\n    // throw new Error('Method not implemented.');\r\n    this.userProfile = this.localStorageService.getCacheData('USER_PROFILE');\r\n      if(this.userProfile && this.userProfile._id){\r\n        this.getWalletBalance();\r\n        this.getwithdrawalHistory();\r\n      }\r\n  }\r\n\r\n  async getWalletBalance(){\r\n    try{\r\n      const wallet:any = await this.apiMainService.getWalletBalance(this.userProfile._id);\r\n      if(wallet && wallet.wallet_balance > 0){\r\n        this.wallet_balance = wallet.wallet_balance;\r\n      }\r\n    }catch(error){\r\n      console.log('error while fetching wallet')\r\n    }\r\n  }\r\n\r\n  goback(){\r\n    // this.navCtrl.pop();\r\n  }\r\n  async getwithdrawalHistory(){\r\n    try{\r\n      const transactionHistoryList = await this.apiMainService.userRewardsPointsHistory(this.userProfile._id,this.pageNumber,this.nPerPage);\r\n      if(transactionHistoryList && transactionHistoryList.length > 0){\r\n        this.transactionHistoryList = [...this.transactionHistoryList, ...transactionHistoryList];\r\n        this.showloader = false;\r\n      }else{\r\n        this.paginationOver = true;\r\n        this.showloader = false;\r\n      }\r\n    }catch(error){\r\n      this.paginationOver = true;\r\n      this.showloader = false;\r\n    }\r\n  }  \r\n\r\n  logScrollEnd($event:any){\r\n    // const element = $event.target;\r\n    // if (element.clientHeight+10 >= this.historyListEndDiv.nativeElement.getBoundingClientRect().top){\r\n    //     if(!this.paginationOver){\r\n    //       this.showloader = true;\r\n    //       this.pageNumber++;\r\n    //       this.getwithdrawalHistory();\r\n    //     }        \r\n    // }\r\n  }\r\n\r\n}\r\n","<div>\r\n    <div class=\"headerBG\">My Wallet</div>\r\n    <div class=\"pageContent\">\r\n        <div class=\"center bgpadding4 incomeBig\">\r\n            <div class=\"header2\">Your Total Wallet Balance Is</div>\r\n            <div class=\"bgTopDownpadding3\"><span class=\"bold header1\">{{wallet_balance|number : '1.2-2'}}</span><span class=\"grey\">\r\n                    points</span></div>\r\n        </div>\r\n        <div class=\"header3 bold center withdrawalHistroy grey\" *ngIf=\"transactionHistoryList.length > 0\">Wallet\r\n            Transaction History:</div>\r\n        <div *ngFor=\"let history of transactionHistoryList\" class=\"gridPadding\">\r\n            <div class=\"row historyDate\"\r\n                [ngClass]=\"{debit: history.transactionType === 'Debit', credit: history.transactionType === 'Credit'}\">\r\n                <div class=\"col-12 header5\">\r\n                    <div class=\"right\">{{history.transactionType}}</div>\r\n                    Date : <span class=\"bold\"> {{history.created_at | date:'mediumDate'}}</span>\r\n                </div>\r\n            </div>\r\n            <div class=\"row bottom bgpadding2\">\r\n                <div class=\"col-9 header5\">\r\n                    <div *ngIf=\"history.remark\" class=\"grey\">{{history.remark}}</div>\r\n                </div>\r\n                <div class=\"col-3 alignRight\"><span class=\"bold\">{{history.transaction_points}}</span> Points</div>\r\n            </div>\r\n\r\n        </div>\r\n        <div #historyListEndDiv>\r\n            <img *ngIf=\"showloader\" class=\"listloader\" src=\"assets/gif/loader.gif\">\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { MyWalletRoutingModule } from './my-wallet-routing.module';\r\nimport { MyWalletComponent } from './my-wallet.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyWalletComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    MyWalletRoutingModule\r\n  ],\r\n})\r\nexport class MyWalletModule { }\r\n"],"names":["RouterModule","MyWalletComponent","routes","path","component","MyWalletRoutingModule","forChild","imports","i1","exports","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","history_r4","remark","ɵɵtemplate","MyWalletComponent_div_14_div_11_Template","ɵɵproperty","ɵɵpureFunction2","_c0","transactionType","ɵɵtextInterpolate1","ɵɵpipeBind2","created_at","transaction_points","ɵɵelement","constructor","router","localStorageService","apiMainService","wallet_balance","userProfile","transactionHistoryList","kichen_profile","paginationOver","nPerPage","showloader","pageNumber","ngOnInit","getCacheData","_id","getWalletBalance","getwithdrawalHistory","_this","_asyncToGenerator","wallet","error","console","log","goback","_this2","userRewardsPointsHistory","length","logScrollEnd","$event","ɵɵdirectiveInject","Router","i2","LocalStorageService","i3","ApiMainService","selectors","decls","vars","consts","template","MyWalletComponent_Template","rf","ctx","MyWalletComponent_div_13_Template","MyWalletComponent_div_14_Template","MyWalletComponent_img_17_Template","CommonModule","MyWalletModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}