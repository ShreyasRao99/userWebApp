{"version":3,"file":"common.js","mappings":"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","sources":["./src/app/footer/footer.module.ts","./src/app/main-slider/main-slider.component.ts","./src/app/main-slider/main-slider.component.html","./src/app/main-slider/main-slider.module.ts","./src/service/user-profile.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FooterComponent } from './footer.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FooterComponent\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports:[\r\n    FooterComponent\r\n  ]\r\n})\r\nexport class FooterModule { }\r\n","import { Component, OnInit, Input, AfterViewInit } from '@angular/core';\r\nimport { environment } from './../../environments/environment';\r\nimport { Router } from '@angular/router';\r\nimport { RuntimeStorageService } from 'src/service/runtime-storage.service';\r\n\r\n\r\n\r\n// import { mainBannerList } from 'src/config/banners.config';\r\n\r\n@Component({\r\n  selector: 'app-main-slider',\r\n  templateUrl: './main-slider.component.html',\r\n  styleUrls: ['./main-slider.component.scss']\r\n})\r\nexport class MainSliderComponent implements OnInit {\r\n\r\n  constructor(private router: Router, private runtimeStorageService: RuntimeStorageService) { }\r\n\r\n  @Input() bannerList: any\r\n  imageUrl = environment.imageUrl;\r\n\r\n  ngOnInit(): void {\r\n    const swiperEl: any = document.querySelector('swiper-container');\r\n    const swiperParams = {\r\n      slidesPerView: 3,\r\n      spaceBetween: 10,\r\n      breakpoints: {\r\n        480:{\r\n          slidesPerView: 1\r\n        },\r\n        640: {\r\n          slidesPerView: 2,\r\n        },\r\n        1024: {\r\n          slidesPerView: 3,\r\n        },\r\n      },\r\n      on: {\r\n        init() {\r\n\r\n        },\r\n      },\r\n    };\r\n    Object.assign(swiperEl, swiperParams);\r\n  }\r\n\r\n  gotoSubscription(banner: any) {\r\n    if (banner.type === 'subscription') {\r\n      this.runtimeStorageService.setCacheData('SUBSCRIPTION_LOOKED', { packageCategory: banner.packageCategory, packageSubCategory: banner.packageSubCategory });\r\n      this.router.navigate(['/subscription']);\r\n    } else if (banner.type === 'bulkOrder') {\r\n      // this.navCtrl.navigateForward(['/bulkOrder']);\r\n    }\r\n  }\r\n}\r\n","<div class=\"slider-container pointer\">\r\n    <div class=\"sectionHeader col-6 mt-4\">What we offer</div>\r\n    <swiper-container class=\"mt-4\" autoplay=\"true\" pagination=\"true\" speed=\"700\" css-mode=\"true\">\r\n        <swiper-slide *ngFor=\"let banner of bannerList\">\r\n                <img class=\"card-img-top\" [src]=\"banner.imageUrl\" alt=\"Card image cap\" (click)=\"gotoSubscription(banner)\">\r\n        </swiper-slide>\r\n    </swiper-container>\r\n</div>","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MainSliderComponent } from './main-slider.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MainSliderComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n  ],\r\n  exports: [\r\n    MainSliderComponent\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class MainSliderModule { }\r\n","import { Injectable } from '@angular/core';\r\n// import { NavController } from '@ionic/angular';\r\nimport { GeolocationService } from './geolocation.service';\r\nimport { LocalStorageService } from './local-storage.service';\r\nimport { RuntimeStorageService } from './runtime-storage.service';\r\nimport { GoogleMapService } from './google-map.service';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class UserProfileService {\r\n    constructor(private geoLocationService: GeolocationService,\r\n        private localStorageService: LocalStorageService, private googleMapService: GoogleMapService\r\n        ){}\r\n    // async loginUser(){\r\n    //     this.navCntrl.navigateForward(['/mobile/true']);\r\n    // }\r\n    \r\n    async checkLocationChange(){   \r\n        const newGeo:any = await this.geoLocationService.getCurrentCoordinate(false,true);\r\n        if(newGeo){\r\n            if(newGeo && newGeo.addedManually){\r\n                return {changeLocation:true,center:newGeo,addedManually:true,address:newGeo.address, savedAddress: newGeo.savedAddress};\r\n            }else{\r\n                return {changeLocation:true,center:newGeo,addedManually:false};\r\n            }\r\n        }else{\r\n            return {};\r\n        }\r\n    }\r\n\r\n    async getCurrntCoordinate(){\r\n        const newGeo:any = await this.geoLocationService.getCurrentCoordinate(false,true);\r\n        return {center:newGeo};\r\n    }\r\n\r\n    getSavedAddress(currentLocation:any){\r\n        const userProfile = this.localStorageService.getCacheData('USER_PROFILE'); \r\n        console.log(userProfile)\r\n        let finalLocation = currentLocation;\r\n        console.log(finalLocation)\r\n        if(userProfile && userProfile._id){\r\n            if( userProfile.addressList && userProfile.addressList.length > 0){                \r\n                if(currentLocation && currentLocation.geolocation){\r\n                    let currentlatlng = currentLocation.geolocation;\r\n                    userProfile.addressList.forEach((address:any) => {\r\n                        if(address.geolocation){\r\n                            let addlatlng = address.geolocation;\r\n                            if(currentlatlng.lat && currentlatlng.lng && addlatlng.lat &&addlatlng.lng){\r\n                                const distance = this.googleMapService.calulateDistance(currentlatlng.lat,currentlatlng.lng,addlatlng.lat,addlatlng.lng);\r\n                                const distanceInMeter = Math.round(distance * 1000);\r\n                                console.log(distanceInMeter)\r\n                                if(distanceInMeter < 100){\r\n                                    this.localStorageService.setCacheData('CURRENT_LOCATION',address);\r\n                                    finalLocation = address;\r\n                                }\r\n                            }                             \r\n                        }                                           \r\n                    });\r\n                }\r\n                \r\n            }\r\n        }\r\n        return finalLocation;\r\n    }\r\n}"],"names":["CommonModule","FooterComponent","FooterModule","declarations","imports","exports","environment","i0","ɵɵelementStart","ɵɵlistener","MainSliderComponent_swiper_slide_4_Template_img_click_1_listener","restoredCtx","ɵɵrestoreView","_r3","banner_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","gotoSubscription","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","imageUrl","ɵɵsanitizeUrl","MainSliderComponent","constructor","router","runtimeStorageService","ngOnInit","swiperEl","document","querySelector","swiperParams","slidesPerView","spaceBetween","breakpoints","on","init","Object","assign","banner","type","setCacheData","packageCategory","packageSubCategory","navigate","ɵɵdirectiveInject","i1","Router","i2","RuntimeStorageService","selectors","inputs","bannerList","decls","vars","consts","template","MainSliderComponent_Template","rf","ctx","ɵɵtext","ɵɵtemplate","MainSliderComponent_swiper_slide_4_Template","MainSliderModule","UserProfileService","geoLocationService","localStorageService","googleMapService","checkLocationChange","_this","_asyncToGenerator","newGeo","getCurrentCoordinate","addedManually","changeLocation","center","address","savedAddress","getCurrntCoordinate","_this2","getSavedAddress","currentLocation","userProfile","getCacheData","console","log","finalLocation","_id","addressList","length","geolocation","currentlatlng","forEach","addlatlng","lat","lng","distance","calulateDistance","distanceInMeter","Math","round","ɵɵinject","GeolocationService","LocalStorageService","i3","GoogleMapService","factory","ɵfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}