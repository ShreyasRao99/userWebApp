"use strict";(self.webpackChunkMealaweWeb=self.webpackChunkMealaweWeb||[]).push([[102],{9617:(P,x,r)=>{r.d(x,{E:()=>V});var m=r(5861),_=r(553),e=r(5879),p=r(5868),l=r(5914),C=r(4235),I=r(8798),y=r(2168);let M=(()=>{var t;class a{constructor(o,i,d){this.localStorageService=o,this.apiMainService=i,this.toasterService=d,this.userProfile={}}checkProfileNameAndEmail(){var o=this;return(0,m.Z)(function*(){var i;return new Promise(function(d,c){return(i=i||(0,m.Z)(function*(s,g){try{s(!!(o.userProfile&&o.userProfile.userName&&o.userProfile.email))}catch{s(!1)}})).apply(this,arguments)})})()}createOrder(o,i,d){var s,c=this;return new Promise(function(g,f){return(s=s||(0,m.Z)(function*(j,X){try{c.userProfile=c.localStorageService.getCacheData("USER_PROFILE");const u=c.userProfile,$=c.localStorageService.getCacheData("CURRENT_LOCATION"),v={customerId:u._id,customerName:u.userName,customerLocation:$,customerEmail:u.email,customerPhoneNo:u.phoneNo,kitchenId:i._id,kitchenName:i.kitchenName,kitchenPhoneNo:i.phoneNo,orderType:d,amount:o.itemPrice,itemAmount:o.itemPrice,kitchenDiscount:0,deliveryCharges:0,discount:0,taxes:0,itemList:[{...o,count:1}],addOns:[],specialRequest:"",nonContactDelivery:!1,orderDate:new Date,moneyWalletPointsUsed:0,mealaweWalletPointsUsed:0,mealaweDeliveryDiscount:0,mealaweItemDiscount:0,mealaweTotalAmt:o.mealawePrice,mealaweKitchenDiscount:0,specialMenuId:o.mainMenuItemId};i.distance>=0&&(v.distance=i.distance);const h=new Date(o.deliveryDate);h.setHours(18),h.setMinutes(0),v.orderComplitionDate=h,v.orderComplitionTime=h,yield c.apiMainService.saveOrderBooking(v),j(!0)}catch{X(!1)}})).apply(this,arguments)})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.LFG(I.n),e.LFG(y.i),e.LFG(l.M))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),a})();var T=r(6814);function b(t,a){1&t&&e._UZ(0,"div",20)}function O(t,a){1&t&&e._UZ(0,"div",21)}function k(t,a){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Jain"),e.qZA())}const Z=function(t,a,n){return{spicy1:t,spicy2:a,spicy3:n}};function w(t,a){if(1&t&&e._UZ(0,"div",23),2&t){const n=e.oxw();e.Q6J("ngClass",e.kEZ(1,Z,1===n.item.spicyLevel,2===n.item.spicyLevel,3===n.item.spicyLevel))}}function A(t,a){if(1&t&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij("Serves ",n.item.servesTo," ")}}function N(t,a){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Per Unit"),e.qZA())}function S(t,a){if(1&t&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.AsE(" ",n.item.servingQuantity," ",n.item.servingQuantityUnit,"")}}function U(t,a){if(1&t&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.item.kitchenName,"")}}function E(t,a){if(1&t&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.item.itemDescription)}}function D(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",25),e._uU(1),e.TgZ(2,"span",26),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.readmore=!0)}),e._uU(3,"read more"),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(1),e.hij("",n.item.subDescription," ")}}function J(t,a){if(1&t&&(e.TgZ(0,"div",27),e._uU(1,"Taste of region: "),e.TgZ(2,"span",28),e._uU(3),e.qZA()()),2&t){const n=e.oxw();e.xp6(3),e.Oqu(n.item.tasteOfRegion)}}function q(t,a){if(1&t&&e._UZ(0,"img",29),2&t){const n=e.oxw();e.Q6J("src",n.imageUrl+n.item.imageUrl,e.LSH)}}function L(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",33),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return e.KtG(i.addToCart())}),e._uU(1,"ADD"),e.qZA()}}function Q(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",34)(1,"button",35),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return e.KtG(i.decreaseCount(i.item))}),e.TgZ(2,"span",36),e._uU(3,"-"),e.qZA()(),e.TgZ(4,"div",37),e._uU(5),e.qZA(),e.TgZ(6,"button",35),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return e.KtG(i.increaseCount(i.item))}),e.TgZ(7,"span",38),e._uU(8,"+"),e.qZA()()()}if(2&t){const n=e.oxw(2);e.xp6(5),e.Oqu(n.item.count)}}const B=function(t){return{noImage:t}};function Y(t,a){if(1&t&&(e.TgZ(0,"div",30),e.YNc(1,L,2,0,"div",31),e.YNc(2,Q,9,1,"div",32),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngClass",e.VKq(3,B,!n.item.imageUrl)),e.xp6(1),e.Q6J("ngIf",!n.item.count&&(!n.item.isSpecialMenu||n.item.isSpecialMenu&&"allDay"===n.orderType)),e.xp6(1),e.Q6J("ngIf",n.item.count)}}function F(t,a){1&t&&(e.TgZ(0,"div",43),e._uU(1,"JUST MISSED"),e.qZA())}function z(t,a){1&t&&(e.TgZ(0,"div",44),e._uU(1,"COMING NEXT"),e.qZA())}function R(t,a){1&t&&(e.TgZ(0,"div",45),e._uU(1,"NOT AVAILABLE"),e.qZA())}function G(t,a){if(1&t&&(e.TgZ(0,"div",39),e.YNc(1,F,2,0,"div",40),e.YNc(2,z,2,0,"div",41),e.YNc(3,R,2,0,"div",42),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.missed),e.xp6(1),e.Q6J("ngIf",n.comingnext),e.xp6(1),e.Q6J("ngIf",!n.item.itemAvailable&&"advance"===n.orderType||n.item.quantityAvailable-n.item.quantityBooked<=0&&"daily"===n.orderType)}}function K(t,a){if(1&t&&(e.TgZ(0,"div",46),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij("This item takes ",n.item.preparationTime,"mins to prepare")}}function W(t,a){1&t&&e._UZ(0,"div",47)}const H=function(t){return{specialMenu:t}};let V=(()=>{var t;class a{constructor(o,i,d,c){this.cartManagementService=o,this.toasterService=i,this.runtimeStorageService=d,this.orderBookingService=c,this.imageUrl=_.N.imageUrl,this.showPartition=!1,this.inflatePercentage=0,this.specialInflatePercentage=0,this.readmore=!1;const s=this.runtimeStorageService.getCacheData("SPECIAL_INFLATE_PERCENTAGE");s&&(this.specialInflatePercentage=s)}ngOnInit(){const o=this.runtimeStorageService.getCacheData("MEALAWE_INFLATE_PERCENTAGE"),i=this.runtimeStorageService.getCacheData("ADV_INFLATE_PERCENTAGE"),d=this.runtimeStorageService.getCacheData("SUB_INFLATE_PERCENTAGE");this.item.inflatePrice&&(o&&"allDay"===this.orderType?this.inflatePercentage=o:i&&"advance"===this.orderType?this.inflatePercentage=i:d&&"subscription"===this.orderType&&(this.inflatePercentage=d)),this.item.quantityBooked=this.item.quantityBooked?this.item.quantityBooked:0,this.item.count=this.item.count?this.item.count:0;const c=this.cartManagementService.checkIfItemIsAdded(this.item,this.kitchenName,this.kitchenId,this.orderType);this.item={...c};let g=c.itemPrice+Math.ceil(c.itemPrice*(this.item.isSpecialMenu?this.specialInflatePercentage:this.inflatePercentage)/100);const f=g%5;g-=f,f>2.5&&(g+=5),this.item.mealawePrice=g,this.item.subDescription=`${this.item.itemDescription.substring(0,70)}...`,setTimeout(()=>{this.showPartition=!0},500)}addToCart(){var o=this;return(0,m.Z)(function*(){const i=yield o.cartManagementService.addItemToCart(o.item,o.kitchenName,o.kitchenId,o.orderType,o.kitchen);i&&(o.item=i)})()}increaseCount(o){"daily"===this.orderType&&o.quantityAvailable-this.item.quantityBooked===o.count||o.isSpecialMenu&&o.specialQuantityAvailable===o.count?this.toasterService.error(108):this.cartManagementService.validateComboCount(o)?this.toasterService.error(113):this.cartManagementService.validateTotalItemCount()?this.toasterService.error(114):(o.count++,this.cartManagementService.updateItemToCart(o))}decreaseCount(o){o.count--,this.cartManagementService.updateItemToCart(o)}bookSpecialItem(o){return(0,m.Z)(function*(){})()}}return(t=a).\u0275fac=function(o){return new(o||t)(e.Y36(p.$),e.Y36(l.M),e.Y36(C.G),e.Y36(M))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-item-card"]],inputs:{item:"item",kitchenName:"kitchenName",kitchenId:"kitchenId",orderType:"orderType",screenFrom:"screenFrom",kitchen:"kitchen",missed:"missed",comingnext:"comingnext"},decls:27,vars:21,consts:[[1,"container-fluid","noBottomPadding",3,"ngClass"],[1,"row"],[1,"col-6","col-md-7","col-lg-7","itemLeftTopPadding"],["class","vegIcon typeIcon inlineMargin",4,"ngIf"],["class","nonvegIcon typeIcon inlineMargin",4,"ngIf"],["class","capsule inlineMargin",4,"ngIf"],["class","spicyLebel inlineMargin",3,"ngClass",4,"ngIf"],[1,"header3","bold","bgTopDownpadding2"],["class","header5",4,"ngIf"],[1,"price"],["class","description",4,"ngIf"],["class","tasteOfRegion",4,"ngIf"],[1,"bgToppadding3"],["src","assets/moreimages/discountImg.png",1,"discountImg"],[1,"col-6","col-md-5","col-lg-5","text-center","pt-4"],["class","itemImage",3,"src",4,"ngIf"],["class","addPosition pointer",3,"ngClass",4,"ngIf"],["class","missedOuter",4,"ngIf"],["class","preparationTimemsg",4,"ngIf"],["class","partitionLine",4,"ngIf"],[1,"vegIcon","typeIcon","inlineMargin"],[1,"nonvegIcon","typeIcon","inlineMargin"],[1,"capsule","inlineMargin"],[1,"spicyLebel","inlineMargin",3,"ngClass"],[1,"header5"],[1,"description"],[1,"readmorestyle",3,"click"],[1,"tasteOfRegion"],[1,"mainRegion","grey"],[1,"itemImage",3,"src"],[1,"addPosition","pointer",3,"ngClass"],["class","addButton white",3,"click",4,"ngIf"],["class","white addeditemStyle",4,"ngIf"],[1,"addButton","white",3,"click"],[1,"white","addeditemStyle"],[1,"incbutton",3,"click"],[1,"indicator","right","leftdiv"],[1,"midsection"],[1,"indicator","rightdiv"],[1,"missedOuter"],["class","missed",4,"ngIf"],["class","comingnext",4,"ngIf"],["class","notavailable",4,"ngIf"],[1,"missed"],[1,"comingnext"],[1,"notavailable"],[1,"preparationTimemsg"],[1,"partitionLine"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),e.YNc(4,b,1,0,"div",3),e.YNc(5,O,1,0,"div",4),e.YNc(6,k,2,0,"div",5),e.YNc(7,w,1,5,"div",6),e.YNc(8,A,2,1,"div",5),e.YNc(9,N,2,0,"div",5),e.YNc(10,S,2,2,"div",5),e.qZA(),e.TgZ(11,"div",7),e._uU(12),e.qZA(),e.YNc(13,U,2,1,"div",8),e.TgZ(14,"div",9),e._uU(15),e.qZA(),e.YNc(16,E,2,1,"div",10),e.YNc(17,D,4,1,"div",10),e.YNc(18,J,4,1,"div",11),e.TgZ(19,"div",12),e._UZ(20,"img",13),e.qZA()(),e.TgZ(21,"div",14),e.YNc(22,q,1,1,"img",15),e.YNc(23,Y,3,5,"div",16),e.YNc(24,G,4,3,"div",17),e.qZA(),e.YNc(25,K,2,1,"div",18),e.qZA()(),e.YNc(26,W,1,0,"div",19)),2&o&&(e.Q6J("ngClass",e.VKq(19,H,i.item.isSpecialMenu)),e.xp6(4),e.Q6J("ngIf","Veg"===i.item.itemType),e.xp6(1),e.Q6J("ngIf","NonVeg"===i.item.itemType),e.xp6(1),e.Q6J("ngIf","Jain"===i.item.itemType),e.xp6(1),e.Q6J("ngIf","Sour"===i.item.itemFlavour&&i.item.spicyLevel>0),e.xp6(1),e.Q6J("ngIf","perPerson"===i.item.itemServingType),e.xp6(1),e.Q6J("ngIf","perUnit"===i.item.itemServingType),e.xp6(1),e.Q6J("ngIf","perQuantity"===i.item.itemServingType),e.xp6(2),e.Oqu(i.item.itemName),e.xp6(1),e.Q6J("ngIf","searchPage"===i.screenFrom||"categoryPage"===i.screenFrom),e.xp6(2),e.hij("\u20b9",i.item.mealawePrice,""),e.xp6(1),e.Q6J("ngIf",i.readmore),e.xp6(1),e.Q6J("ngIf",!i.readmore),e.xp6(1),e.Q6J("ngIf",i.item.tasteOfRegion),e.xp6(4),e.Q6J("ngIf",i.item.imageUrl),e.xp6(1),e.Q6J("ngIf",!("searchPage"===i.screenFrom||"categoryPage"===i.screenFrom||i.missed||i.comingnext||"advance"===i.orderType&&!i.item.itemAvailable||i.item.quantityAvailable-i.item.quantityBooked==0&&"daily"===i.orderType)),e.xp6(1),e.Q6J("ngIf",i.missed||i.comingnext||!i.item.itemAvailable&&"advance"===i.orderType||i.item.quantityAvailable-i.item.quantityBooked==0&&"daily"===i.orderType),e.xp6(1),e.Q6J("ngIf",i.item.preparationTime>45),e.xp6(1),e.Q6J("ngIf",i.showPartition))},dependencies:[T.mk,T.O5],styles:[".noBottomPadding[_ngcontent-%COMP%]{padding-bottom:10px;min-height:162px}.itemImage[_ngcontent-%COMP%]{border-radius:15px;height:135px;width:130px!important}.partitionLine[_ngcontent-%COMP%]{border-bottom:1px solid rgba(164,164,164,.2588235294);margin:0 5%;height:1px}.capsule[_ngcontent-%COMP%]{font-size:8px;border:1px solid #BBC0D0;border-radius:2px;vertical-align:top;padding:2px 6px}.addPosition[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;bottom:19px;left:42%}.addPosition.noImage[_ngcontent-%COMP%]{top:42px!important}.addButton[_ngcontent-%COMP%]{background:white;width:62px;text-align:center;border-radius:8px;padding:4px 13px;color:#15a292;font-size:14px;font-weight:700;line-height:20px;box-shadow:1px 3px 6px #1018288c}.bookButton[_ngcontent-%COMP%]{background:#28ad9e;width:77px;text-align:center;border-radius:8px;padding:4px 13px;color:#fff;font-size:14px;margin-left:-7px}.bookedButton[_ngcontent-%COMP%]{background:#af8c8c;width:89px;text-align:center;border-radius:8px;padding:4px 13px;color:#fff;font-size:14px;margin-left:-13px}.addeditemStyle[_ngcontent-%COMP%]{height:24px;width:100%;font-size:14px;margin:0;display:flex;flex-flow:row;position:relative;left:-17px}.incbutton[_ngcontent-%COMP%]{width:40px;text-align:center;background:transparent;border:0px;color:#fff;height:100%;line-height:25px;padding:0;margin:0}.incbutton[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{background:#15a292;display:block;width:27px;height:100%;font-size:18px}.incbutton[_ngcontent-%COMP%]   .leftdiv[_ngcontent-%COMP%]{border-radius:8px 0 0 8px;padding-top:0}.incbutton[_ngcontent-%COMP%]   .rightdiv[_ngcontent-%COMP%]{border-radius:0 8px 8px 0;padding-top:0}.midsection[_ngcontent-%COMP%]{width:20px;text-align:center;background:#15a292;padding-top:3px}.spicyLebel[_ngcontent-%COMP%]{background-repeat:no-repeat!important;border:1px solid rgb(185,4,28);border-radius:3px;display:inline-block;height:14px}.spicy1[_ngcontent-%COMP%]{background:url(chili1.2e428350b3bda6e3.svg);background-size:11px;background-position:3px 1px!important;width:20px}.spicy2[_ngcontent-%COMP%]{background:url(chili2.dc9e04d2b9806751.svg);background-size:15px;background-position:2px 1px!important;width:25px}.spicy3[_ngcontent-%COMP%]{background:url(chili3.13572dfb25eb1554.svg);background-size:22px;background-position:1px 1px!important;width:28px}.capsuledislplay[_ngcontent-%COMP%]{display:table-cell}.missedOuter[_ngcontent-%COMP%]{width:133px;position:absolute;top:2px;left:1px;height:141px;border-radius:15px;background:rgba(4,4,4,.3098039216)}.missedOuter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#b9041c;border-radius:0 0 15px 15px;height:20px;text-align:center;padding:6px 0;color:#fff;font-size:8px;letter-spacing:1px;word-spacing:2px;position:absolute;bottom:0;width:100%;left:0}.missedOuter[_ngcontent-%COMP%]   .missed[_ngcontent-%COMP%]{background:black}.missedOuter[_ngcontent-%COMP%]   .comingnext[_ngcontent-%COMP%]{background:#15a292}.missedOuter[_ngcontent-%COMP%]   .notavailable[_ngcontent-%COMP%]{background:#fe8e9c}.specialMenu[_ngcontent-%COMP%]{background:linear-gradient(45deg,#FECF21,transparent);border-radius:11px}.specialMenuIcon[_ngcontent-%COMP%]{height:48px;position:relative;left:-25px;top:21px}.inlineMargin[_ngcontent-%COMP%]{display:inline-block;margin-right:10px}.price[_ngcontent-%COMP%]{font-weight:500;font-size:13px;line-height:20px;letter-spacing:-.0043em;color:#676f81}.description[_ngcontent-%COMP%]{font-weight:300;font-size:12px;letter-spacing:.0006em;color:#676f81}.itemLeftTopPadding[_ngcontent-%COMP%]{padding-top:10px}.tasteOfRegion[_ngcontent-%COMP%]{font-size:12px;padding-top:4px}.discountImg[_ngcontent-%COMP%]{height:25px}.readmorestyle[_ngcontent-%COMP%]{cursor:pointer;color:#15a292}.preparationTimemsg[_ngcontent-%COMP%]{font-size:11px;padding-left:10px;font-style:italic}@media only screen and (max-width: 600px){.addPosition[_ngcontent-%COMP%]{left:41px}}"]}),a})()},8207:(P,x,r)=>{r.d(x,{F:()=>e});var m=r(6814),_=r(5879);let e=(()=>{var p;class l{}return(p=l).\u0275fac=function(I){return new(I||p)},p.\u0275mod=_.oAB({type:p}),p.\u0275inj=_.cJS({imports:[m.ez]}),l})()}}]);